## ðŸ”Œ Pin Configuration & Device Working

Below is the detailed pin mapping for ESP32 and a short description of how each device works in the project.

---

### 1. ACS712 Current Sensor
- **OUT â†’ GPIO35 (ADC1_CH7)**
- **VCC â†’ 3.3V**
- **GND â†’ GND**
- **IN+ / INâˆ’ â†’ In series with fence wire**

**Working:**  
Measures the current flowing through the fence wire.  
- No load â†’ baseline (~1.65V output).  
- Load connected â†’ current increases, output shifts.  
ESP32 detects this change to identify **unauthorized tapping**.

---

### 2. Voltage Divider (33kÎ© + 10kÎ©)
- **Divider node â†’ GPIO34 (ADC1_CH6)**
- **Top resistor (33kÎ©) â†’ Fence +12V**
- **Bottom resistor (10kÎ©) â†’ GND**

**Working:**  
Scales down 12V fence voltage to ~2.9V (safe for ESP32 ADC).  
ESP32 monitors fence voltage; a sudden drop may indicate **tapping or breakage**.

---

### 3. Tamper Switch (Push Button 1)
- **One side â†’ 3.3V rail**
- **Other side â†’ GPIO32**
- **Configured as INPUT_PULLDOWN**

**Working:**  
Detects if the device box is opened or tampered with.  
- Open/idle â†’ LOW  
- Pressed â†’ HIGH (tamper alert)

---

### 4. Manual Reset Button (Push Button 2)
- **One side â†’ 3.3V rail**
- **Other side â†’ GPIO33**
- **Configured as INPUT_PULLDOWN**

**Working:**  
Allows manual reset of alarms.  
When pressed, buzzer is silenced and system returns to normal monitoring.

---

### 5. Buzzer + Transistor Driver
- **ESP32 GPIO27 â†’ 1kÎ© resistor â†’ Transistor Base (2N2222)**
- **Emitter â†’ GND**
- **Collector â†’ Buzzer negative (âˆ’)**
- **Buzzer positive (+) â†’ 3.3V rail**

**Working:**  
When unauthorized tapping or tamper is detected, ESP32 drives GPIO27 HIGH.  
The transistor switches the buzzer ON, giving a **local audible alarm**.

---

### 6. LoRa SX1278 Module (Ra-02)
- **MOSI â†’ GPIO23**
- **MISO â†’ GPIO19**
- **SCK â†’ GPIO18**
- **NSS/CS â†’ GPIO5**
- **RESET â†’ GPIO14**
- **DIO0 â†’ GPIO2**
- **VCC â†’ 3.3V**
- **GND â†’ GND**

**Working:**  
Transmits alert messages wirelessly over long range (5â€“10 km rural).  
Message includes status (tap/tamper), voltage, current, and optional GPS coordinates.

---

### 7. GPS NEO-6M Module
- **GPS TX â†’ ESP32 GPIO16 (RX2)**
- **GPS RX â†’ ESP32 GPIO17 (TX2)**
- **VCC â†’ 3.3V (or 5V depending on module)**
- **GND â†’ GND**

**Working:**  
Provides device location (latitude, longitude) and accurate time.  
Coordinates are added to LoRa alerts to identify *which node* raised the alarm.

---

### 8. Power Supply (LM2596 Buck Converter)
- **VIN+ â†’ Battery +12V**
- **VINâˆ’ â†’ Battery GND**
- **VOUT+ â†’ 3.3V rail**
- **VOUTâˆ’ â†’ GND rail**

**Working:**  
Steps down the 12V Li-ion battery pack (11.1V nominal, 12.6V max) to a stable 3.3V for the ESP32 and all modules.
